<div class="tab_div">
    <div class="tabs_menu" style="margin-right: 30px">
        <ul class="tabs">
            <li id="tab1" (click)="openTab(1)" class="active" style="border-top: 1px solid rgba(10, 11, 49, 0.2)"><a>Заявки</a>
            </li>
            <li id="tab2" (click)="openTab(2)" style="border-bottom: 1px solid rgba(10, 11, 49, 0.2)">
                <a>Пользователи</a></li>
        </ul>
    </div>
</div>

<div class="tab_content">
    <div id="tabContent_1" style="display: none">
        <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Поиск заявки">
        </mat-form-field>

        <br>

        <mat-form-field style="margin-right: 40px">
            <mat-select placeholder="Субъект РФ" [(ngModel)]="selectingRegion">
                <mat-option *ngFor="let reg of regions" [value]="reg" (onSelectionChange)="applyFilterByName(reg, 'region')">
                    {{reg}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field style="margin-right: 40px; width: 200px;">
            <mat-select placeholder="Возрастная категория" [(ngModel)]="selectingCategory">
                <mat-option *ngFor="let cat of categories" [value]="cat" (onSelectionChange)="applyFilterByName(cat, 'ageCategory')">
                    {{cat}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-select placeholder="Номинация" [(ngModel)]="selectingNominations">
                <mat-option *ngFor="let nom of nominations" [value]="nom" (onSelectionChange)="applyFilterByName(nom, 'nomination')">
                    {{nom}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <div>
            <div *ngIf="isLoadingResults" class="example-loading-shade">
                <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
            </div>

            <table mat-table [dataSource]="dataSource" class="cars-table mat-elevation-z8"
                   matSort matSortActive="created" matSortDisableClear matSortDirection="asc">
                <!-- Number Column -->
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Название заявки</th>
                    <td mat-cell *matCellDef="let row">{{row.name}}</td>
                </ng-container>

                <ng-container matColumnDef="commandName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Название команды</th>
                    <td mat-cell *matCellDef="let row">{{row.commandName}}</td>
                </ng-container>

                <ng-container matColumnDef="region">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Субъект РФ</th>
                    <td mat-cell *matCellDef="let row">{{row.region}}</td>
                </ng-container>

                <!-- Title Column -->
                <ng-container matColumnDef="ageCategory">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Возрастная категория</th>
                    <td mat-cell *matCellDef="let row">{{row.ageCategory}}</td>
                </ng-container>

                <!-- State Column -->
                <ng-container matColumnDef="nominations">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Номинация</th>
                    <td mat-cell *matCellDef="let row">{{row.nomination}}</td>
                </ng-container>

                <!-- Created Column -->
                <ng-container matColumnDef="musicFileName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
                        Музыкальный файл
                    </th>
                    <td mat-cell *matCellDef="let row">{{row.musicFileName}}</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

            <mat-paginator [length]="resultsLength"
                           [pageSize]="10"></mat-paginator>
        </div>
        <!--     <mat-table class="cars-table mat-elevation-z8"
                        [dataSource]="dataSource"
                        matSort
                        (matSortChange)="sortTableChange($event)"
                        matSortDisableClear>

                 <ng-container matColumnDef="time">

                     <mat-header-cell *matHeaderCellDef mat-sort-header>Время</mat-header-cell>

                     <mat-cell *matCellDef="let client">{{client.time | date: "yy-mm-dd"}}</mat-cell>

                 </ng-container>

                 <ng-container matColumnDef="doctor">

                     <mat-header-cell *matHeaderCellDef mat-sort-header>Врач</mat-header-cell>

                     <mat-cell *matCellDef="let client">
                         {{client.doctor}}
                     </mat-cell>

                 </ng-container>

                 <ng-container matColumnDef="name">

                     <mat-header-cell *matHeaderCellDef mat-sort-header>ФИО пацианта</mat-header-cell>

                     <mat-cell *matCellDef="let client">
                         {{client.name}}
                     </mat-cell>

                 </ng-container>
                 <ng-container matColumnDef="birthDay">

                     <mat-header-cell *matHeaderCellDef mat-sort-header>Дата рождения пациента</mat-header-cell>

                     <mat-cell *matCellDef="let client">
                         {{client.birthDay | date: "yy-mm-dd"}}
                     </mat-cell>

                 </ng-container>
                 <ng-container matColumnDef="address">

                     <mat-header-cell *matHeaderCellDef mat-sort-header>Адрес пациента </mat-header-cell>

                     <mat-cell *matCellDef="let client">{{client.address}}</mat-cell>

                 </ng-container>
                 <ng-container matColumnDef="police">

                     <mat-header-cell *matHeaderCellDef mat-sort-header>Номер полиса</mat-header-cell>

                     <mat-cell *matCellDef="let client">{{client.police}}</mat-cell>

                 </ng-container>
                 <ng-container matColumnDef="numberTicket">

                     <mat-header-cell *matHeaderCellDef mat-sort-header>номер квитанции</mat-header-cell>

                     <mat-cell *matCellDef="let client">{{client.numberTicket}}</mat-cell>

                 </ng-container>
                 <ng-container matColumnDef="cost">

                     <mat-header-cell *matHeaderCellDef mat-sort-header>Сумма платежа</mat-header-cell>

                     <mat-cell *matCellDef="let client">{{client.cost}}</mat-cell>

                 </ng-container>
                 <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
             </mat-table>-->
    </div>
    <div id="tabContent_2" style="display: none">
        аыва
    </div>
</div>

<!--
<mat-form-field>

  <input matInput placeholder="Search clients" [formControl]="searchField">

</mat-form-field>
<mat-spinner class="spinner"
             color="primary"
             *ngIf="dataSource.loading$| async">
</mat-spinner>

<mat-table class="cars-table mat-elevation-z8"
           [dataSource]="dataSource"
           matSort
           (matSortChange)="sortTableChange($event)"
           matSortDisableClear>

  <ng-container matColumnDef="time">

    <mat-header-cell *matHeaderCellDef mat-sort-header>Время</mat-header-cell>

    <mat-cell *matCellDef="let client">{{client.time | date: "yy-mm-dd"}}</mat-cell>

  </ng-container>

  <ng-container matColumnDef="doctor">

    <mat-header-cell *matHeaderCellDef mat-sort-header>Врач</mat-header-cell>

    <mat-cell *matCellDef="let client">
      {{client.doctor}}
    </mat-cell>

  </ng-container>

  <ng-container matColumnDef="name">

    <mat-header-cell *matHeaderCellDef mat-sort-header>ФИО пацианта</mat-header-cell>

    <mat-cell *matCellDef="let client">
      {{client.name}}
    </mat-cell>

  </ng-container>
  <ng-container matColumnDef="birthDay">

    <mat-header-cell *matHeaderCellDef mat-sort-header>Дата рождения пациента</mat-header-cell>

    <mat-cell *matCellDef="let client">
      {{client.birthDay | date: "yy-mm-dd"}}
    </mat-cell>

  </ng-container>
  <ng-container matColumnDef="address">

    <mat-header-cell *matHeaderCellDef mat-sort-header>Адрес пациента </mat-header-cell>

    <mat-cell *matCellDef="let client">{{client.address}}</mat-cell>

  </ng-container>
  <ng-container matColumnDef="police">

    <mat-header-cell *matHeaderCellDef mat-sort-header>Номер полиса</mat-header-cell>

    <mat-cell *matCellDef="let client">{{client.police}}</mat-cell>

  </ng-container>
  <ng-container matColumnDef="numberTicket">

    <mat-header-cell *matHeaderCellDef mat-sort-header>номер квитанции</mat-header-cell>

    <mat-cell *matCellDef="let client">{{client.numberTicket}}</mat-cell>

  </ng-container>
  <ng-container matColumnDef="cost">

      <mat-header-cell *matHeaderCellDef mat-sort-header>Сумма платежа</mat-header-cell>

    <mat-cell *matCellDef="let client">{{client.cost}}</mat-cell>

  </ng-container>
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
</mat-table>
<mat-paginator [length]="(dataSource.pagination$ | async)?.total"
               [hidePageSize]="true"
               [pageIndex]="(dataSource.pagination$ | async)?.currentPage"
               [pageSize]="(dataSource.pagination$ | async)?.perPage"
               (page)="changePage($event)">

</mat-paginator>
<mat-error>{{dataSource.error$ | async}}</mat-error>

-->
